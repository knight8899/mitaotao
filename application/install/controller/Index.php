<?php
/*
更多精品源码百度搜索：麻豆源码，madouym.com
*/
 namespace app\install\controller; use think\Controller; use think\Db; use think\Lang; class Index extends Controller { public function index($step = 0) { goto za0j0; za0j0: $langs = glob("\56\x2f\x61\160\x70\x6c\151\x63\141\164\151\x6f\x6e\57\154\x61\x6e\147\x2f\x2a\x2e\x70\150\160"); goto E_PsK; BJqBZ: $this->assign("\154\x61\x6e\x67\x73", $langs); goto rO7VZ; LCOlA: switch ($step) { case 2: goto Pktvo; Pktvo: session("\151\156\x73\164\x61\x6c\x6c\x5f\145\162\x72\x6f\x72", false); goto NrLqk; MCdxv: goto lU_G7; goto LnIHO; NrLqk: return self::step2(); goto MCdxv; LnIHO: case 3: goto ybr8Y; ybr8Y: if (!session("\x69\x6e\163\164\x61\x6c\x6c\x5f\145\x72\x72\157\x72")) { goto VrKUm; } goto OVxBd; yMkrr: VrKUm: goto gTKoE; gTKoE: return self::step3(); goto jF8cM; jF8cM: goto lU_G7; goto CaZFw; OVxBd: return $this->error(lang("\x69\x6e\x73\x74\141\x6c\154\57\x65\156\166\x69\162\x6f\156\155\x65\156\164\x5f\146\141\x69\154\x65\144")); goto yMkrr; CaZFw: case 4: goto F0fMF; n15eO: return self::step4(); goto ZgcIS; F0fMF: if (!session("\x69\156\x73\x74\141\x6c\154\137\x65\x72\162\157\162")) { goto DxzJW; } goto Mi2uQ; Mi2uQ: return $this->error(lang("\151\156\x73\164\x61\x6c\154\57\x65\x6e\166\151\162\157\x6e\155\145\156\x74\137\x66\141\151\x6c\145\144")); goto RI9Bx; ZgcIS: goto lU_G7; goto a6hGk; RI9Bx: DxzJW: goto n15eO; a6hGk: case 5: goto QY1jx; GtFal: goto lU_G7; goto AgnWf; QY1jx: if (!session("\x69\156\163\164\141\154\x6c\x5f\x65\x72\162\x6f\x72")) { goto Grekl; } goto YT06V; S2RjQ: return self::step5(); goto GtFal; MsKdw: Grekl: goto S2RjQ; YT06V: return $this->error(lang("\151\x6e\163\x74\x61\154\x6c\x2f\x69\x6e\151\164\x5f\x65\162\162")); goto MsKdw; AgnWf: default: goto Iz8Mm; iKnKY: goto lU_G7; goto GPFk5; mBWOt: n11bk: goto iqny8; uoIAB: return $this->fetch("\151\156\163\164\x61\154\x6c\x40\57\151\156\x64\x65\170\x2f\x69\156\x64\x65\170"); goto iKnKY; T23YY: Lang::load("\x2e\x2f\x61\x70\160\x6c\151\x63\x61\x74\x69\x6f\156\57\154\x61\x6e\x67\57" . $lang . "\56\x70\150\160", $lang); goto Cc9xj; bfFkN: session("\151\156\163\x74\x61\x6c\x6c\137\145\x72\162\x6f\162", false); goto uoIAB; iqny8: $lang = Lang::range($param["\x6c\141\156\x67"]); goto T23YY; Iz8Mm: $param = input(); goto JtXin; dNt6b: $param["\x6c\141\156\147"] = "\x7a\150\55\x63\x6e"; goto mBWOt; Cc9xj: session("\x6c\141\156\x67", $param["\x6c\x61\156\x67"]); goto pcvTu; pcvTu: $this->assign("\x6c\x61\156\x67", $param["\154\141\x6e\147"]); goto bfFkN; JtXin: if (in_array($param["\154\x61\156\x67"], $langs)) { goto n11bk; } goto dNt6b; GPFk5: } goto VVef_; VVef_: HhjDQ: goto er6o8; FoNsm: $lang = Lang::range(session("\154\141\x6e\147")); goto hU_tr; rO7VZ: if (!in_array(session("\154\x61\x6e\147"), $langs)) { goto O0fcw; } goto FoNsm; xYNEM: pZORT: goto BJqBZ; hU_tr: Lang::load("\56\57\x61\160\x70\154\151\x63\x61\x74\151\x6f\x6e\x2f\x6c\141\156\x67\x2f" . $lang . "\56\x70\x68\x70", $lang); goto c9Bbs; E_PsK: foreach ($langs as $k => &$v) { $v = str_replace(["\56\x2f\x61\x70\160\x6c\x69\143\141\164\x69\157\x6e\57\x6c\141\x6e\x67\57", "\x2e\x70\x68\x70"], ['', ''], $v); aYYRr: } goto xYNEM; c9Bbs: O0fcw: goto LCOlA; er6o8: lU_G7: goto wryLD; wryLD: } private function step2() { goto qpwcL; aMhkA: $this->assign("\144\141\164\141", $data); goto VDO5h; v2eEf: $data["\144\151\162"] = self::checkDir(); goto KV8_d; qpwcL: $data = []; goto MnCFR; MnCFR: $data["\145\156\x76"] = self::checkNnv(); goto v2eEf; KV8_d: $data["\146\x75\156\x63"] = self::checkFunc(); goto aMhkA; VDO5h: return $this->fetch("\151\x6e\x73\164\x61\x6c\x6c\x40\151\x6e\144\x65\170\x2f\163\164\x65\160\x32"); goto L58Yz; L58Yz: } private function step3() { goto XnlcK; oKcKb: $install_dir = mac_substring($install_dir, strripos($install_dir, "\x2f") + 1); goto hxXV0; hxXV0: $this->assign("\151\156\163\x74\x61\154\x6c\x5f\144\x69\x72", $install_dir); goto mY2jL; XnlcK: $install_dir = $_SERVER["\123\x43\x52\x49\120\x54\137\116\101\x4d\x45"]; goto oKcKb; mY2jL: return $this->fetch("\151\156\163\164\x61\x6c\x6c\100\x69\156\x64\x65\170\x2f\163\164\145\160\63"); goto zwefr; zwefr: } private function step4() { goto SPr78; CyqaV: $rule = ["\x68\x6f\163\164\x6e\141\x6d\145\174" . lang("\x69\156\x73\x74\141\154\x6c\57\163\145\x72\166\x65\162\x5f\x61\144\144\162\x65\x73\x73") => "\162\x65\x71\x75\x69\162\145", "\x68\157\163\164\160\157\162\x74\x7c" . lang("\x69\156\x73\x74\141\154\x6c\x2f\144\x61\x74\141\x62\141\163\x65\137\160\x6f\162\x74") => "\x72\145\x71\x75\x69\x72\x65\174\x6e\165\155\142\145\x72", "\144\x61\164\x61\142\141\163\x65\174" . lang("\151\x6e\x73\164\x61\154\x6c\x2f\x64\x61\164\x61\x62\x61\163\145\x5f\156\141\155\x65") => "\162\x65\161\x75\151\162\145", "\165\163\145\x72\156\x61\x6d\145\x7c" . lang("\x69\x6e\163\x74\x61\x6c\154\57\144\x61\x74\141\x62\141\163\145\137\165\163\145\162\x6e\141\155\x65") => "\162\145\x71\x75\x69\x72\145", "\x70\x72\145\146\151\170\174" . lang("\151\x6e\163\164\x61\x6c\x6c\x2f\x64\141\x74\x61\142\x61\163\x65\137\x70\x72\145") => "\162\145\x71\x75\151\162\145\174\162\x65\147\145\x78\72\x5e\x5b\141\55\x7a\x30\x2d\71\135\173\x31\x2c\62\x30\175\133\137\135\173\x31\x7d", "\x63\157\x76\x65\162\x7c" . lang("\151\x6e\x73\164\x61\154\154\57\x6f\166\x65\162\x77\162\151\164\x65\x5f\x64\x61\x74\x61\142\141\x73\145") => "\162\x65\161\165\151\162\x65\x7c\x69\x6e\72\x30\54\x31"]; goto sTcrE; XMsr4: return $this->error($db_connect->getError()); goto RZ3PP; q_dTq: Bf5C9: goto n7kPt; AzJpB: unset($data["\x64\x61\x74\141\142\x61\x73\x65"]); goto zoSXM; on2Am: $data["\x74\171\160\145"] = "\x6d\171\x73\161\154"; goto CyqaV; rkMwi: $database = $data["\144\141\x74\141\142\141\x73\x65"]; goto AzJpB; gOH34: $data["\144\x61\x74\141\142\x61\163\x65"] = $database; goto jo7gW; jOzCQ: NfBQX: goto c2v7U; RZ3PP: szIEb: goto MHBFq; zoSXM: $db_connect = Db::connect($data); goto dqUZD; OTtFF: goto pvWL7; goto jOzCQ; UvYWO: $data = input("\160\157\x73\x74\56"); goto on2Am; Ybgrk: $check = $db_connect->execute("\123\x45\114\x45\x43\x54\x20\52\40\106\122\x4f\x4d\40\151\x6e\x66\157\162\155\141\x74\151\157\156\x5f\163\x63\x68\145\x6d\x61\x2e\x73\x63\150\x65\x6d\141\x74\x61\40\x57\110\105\122\x45\x20\x73\x63\150\x65\155\x61\x5f\x6e\141\155\x65\75\42" . $database . "\42"); goto W375L; d3Lxt: return $this->error("\x5b\141\x70\x70\57\x64\x61\164\141\142\x61\x73\145\x2e\160\150\x70\x5d" . lang("\x69\156\163\164\141\154\154\x2f\167\x72\151\x74\x65\x5f\x72\145\x61\x64\x5f\145\x72\x72")); goto aLAr5; HrVll: $config = (include APP_PATH . "\144\x61\x74\x61\x62\141\x73\x65\56\160\x68\x70"); goto QPCoy; vmqqN: $this->success(lang("\x69\156\x73\x74\141\x6c\154\57\x64\x61\x74\x61\x62\x61\163\x65\x5f\156\141\155\x65\x5f\150\141\166\x65\x64"), ''); goto q_dTq; c2v7U: if (is_writable(APP_PATH . "\x64\x61\x74\x61\142\141\x73\145\56\160\x68\x70")) { goto ZjmHZ; } goto d3Lxt; RtIUn: pvWL7: goto sATp9; HZQeo: kECeE: goto migl5; W375L: if (!$check) { goto Bf5C9; } goto vmqqN; VqYvW: if ($db_connect->execute("\x43\122\x45\101\124\105\40\x44\101\124\x41\x42\101\x53\x45\40\x49\106\40\x4e\117\x54\x20\x45\x58\111\123\x54\123\x20\140{$database}\x60\40\104\105\106\101\125\114\x54\x20\x43\x48\101\122\x41\103\x54\x45\x52\x20\x53\105\124\x20\165\x74\146\x38")) { goto szIEb; } goto XMsr4; n7kPt: S454X: goto VqYvW; ukya_: return $this->error(lang("\x69\x6e\x73\x74\141\154\x6c\57\141\143\x63\x65\x73\x73\137\144\145\x6e\151\x65\x64")); goto OTtFF; sTcrE: $validate = $this->validate($data, $rule); goto GrbwU; zJiYu: unset($data["\x63\x6f\166\145\162"]); goto HrVll; ksDE8: wGlHh: goto rkMwi; jo7gW: self::mkDatabase($data); goto vx8l2; migl5: $cover = $data["\x63\157\x76\x65\x72"]; goto zJiYu; vx8l2: if ($cover) { goto S454X; } goto Ybgrk; jO03B: return $this->error($validate); goto HZQeo; GrbwU: if (!(true !== $validate)) { goto kECeE; } goto jO03B; aLAr5: ZjmHZ: goto UvYWO; QPCoy: foreach ($data as $k => $v) { goto GV1fh; FiyNT: return $this->error(lang("\160\x61\x72\x61\155") . '' . $k . '' . lang("\x69\156\163\164\141\x6c\x6c\57\156\x6f\164\137\146\x6f\165\x6e\144")); goto En8k0; GR5c9: QbW0u: goto CfB93; En8k0: TmoKw: goto GR5c9; GV1fh: if (!(array_key_exists($k, $config) === false)) { goto TmoKw; } goto FiyNT; CfB93: } goto ksDE8; MHBFq: return $this->success(lang("\x69\156\163\x74\x61\x6c\154\x2f\144\141\164\x61\142\x61\163\x65\137\143\x6f\x6e\x6e\x65\143\164\137\x6f\x6b"), ''); goto RtIUn; SPr78: if ($this->request->isPost()) { goto NfBQX; } goto ukya_; dqUZD: try { $db_connect->execute("\163\145\x6c\x65\x63\x74\x20\166\x65\x72\x73\x69\157\x6e\50\x29"); } catch (\Exception $e) { $this->error(lang("\x69\156\163\x74\141\154\x6c\x2f\x64\141\x74\141\142\x61\163\145\x5f\143\x6f\156\156\x65\x63\164\x5f\145\x72\162")); } goto gOH34; sATp9: } private function step5() { goto dSah1; v7Aaa: $sql_file = APP_PATH . "\151\156\163\164\141\x6c\x6c\57\163\161\154\57\x6d\141\x64\x6f\165\x2e\x73\161\154"; goto qiGRu; PpP9b: if (!empty($install_dir)) { goto CrjOC; } goto ErxxC; YtNcK: return $this->error(lang("\151\x6e\x73\164\x61\154\x6c\x2f\141\x64\x6d\151\156\137\156\x61\155\145\x5f\145\162\x72") . "\xef\274\x9a" . $res["\x6d\163\x67"]); goto LOFDD; KiifL: M5f2d: goto I1Qy0; mPX37: $sql_list = array_filter($sql_list); goto lCdC8; QksWO: x_3aZ: goto uV4xg; ccLqG: $root_dir = request()->baseFile(); goto JiQwe; zdfuv: if (!$sql_list) { goto oudBX; } goto KxdQa; q_Hu0: $sql_list = mac_parse_sql($sql, 0, ["\155\x61\x63\x5f" => $config["\x70\x72\145\146\x69\170"]]); goto WcVEy; ZJjxt: $sql = file_get_contents($sql_file); goto q_Hu0; jeQBq: cfp7w: goto uHA4X; ErxxC: $install_dir = "\x2f"; goto WZh2K; h4vra: $res = model("\x41\x64\x6d\151\x6e")->saveData($data); goto xcQbS; noYvS: $sql_file = APP_PATH . "\x69\156\x73\x74\x61\x6c\x6c\x2f\x73\161\154\57\x69\x6e\x73\x74\141\154\154\56\163\161\x6c"; goto hl0wo; SgH_h: iygCC: goto Rov0y; sJnRg: $cofnig_new["\141\160\160"]["\x6c\141\x6e\x67"] = session("\x6c\141\156\147"); goto zkSRq; KxdQa: $sql_list = array_filter($sql_list); goto jaoNS; JiQwe: $root_dir = preg_replace(["\x2f\x69\x6e\163\x74\x61\x6c\154\56\x70\x68\x70\44\x2f"], [''], $root_dir); goto kLjx_; dSah1: $account = input("\160\157\163\164\x2e\x61\143\143\x6f\165\156\164"); goto dmTOq; i6L5s: $res = mac_arr2file(APP_PATH . "\145\170\164\162\141\57\x6d\141\143\x63\x6d\x73\56\160\150\x70", $config_new); goto TgQ2l; I1Qy0: if (!(empty($account) || empty($password))) { goto l440u; } goto I4suO; tXZOK: oudBX: goto QksWO; KWbYk: return $this->error($validate); goto ry2ff; VQH9i: $config_new["\x61\160\x69"]["\141\x72\164"]["\163\164\x61\164\165\163"] = 0; goto eznxj; kUZnS: l440u: goto Uku7c; I4suO: return $this->error(lang("\151\x6e\x73\x74\141\154\x6c\57\160\154\x65\x61\163\145\137\x69\x6e\160\165\164\x5f\x61\144\155\x69\156\137\156\141\155\145\137\160\141\x73\x73")); goto kUZnS; SVqxV: $validate = $this->validate(["\141\143\x63\x6f\x75\x6e\164" => $account, "\160\141\163\163\x77\157\162\144" => $password], $rule); goto pp__3; zkSRq: $config_new["\x61\160\x69"]["\x76\x6f\x64"]["\163\164\141\164\x75\163"] = 0; goto VQH9i; uV4xg: if (!($initdata == "\61")) { goto BBu6z; } goto v7Aaa; WcVEy: if (!$sql_list) { goto hLwdo; } goto mPX37; ioYW0: cRNe_: goto noYvS; kLjx_: return $this->success("\xe7\xb3\xbb\xe7\xbb\237\xe5\xae\211\xe8\xa3\205\xe6\x88\220\345\212\x9f\xef\xbc\x8c\xe6\xac\xa2\350\xbf\x8e\xe6\202\250\xe4\275\xbf\xe7\224\xa8\xe8\x8b\xb9\xe6\x9e\234\x43\115\123\345\273\272\xe7\xab\x99\357\274\x8c\350\257\xa5\346\272\220\xe7\xa0\x81\346\250\241\346\x9d\xbf\347\x94\xb1\351\272\273\350\261\206\xe6\xba\x90\xe7\xa0\201\357\xbc\x88\115\x61\x44\x6f\165\131\x6d\x2e\103\157\155\xef\274\211\xe5\x88\266\xe4\275\234\357\xbc\214\350\xaf\267\xe5\x8b\xbf\xe7\224\250\xe4\xba\x8e\350\xbf\235\xe6\xb3\225\350\xbf\235\350\247\x84\xe7\232\204\350\xa1\214\344\xb8\xba\357\xbc\214\345\220\246\345\x88\231\xe5\220\216\xe6\236\x9c\xe8\207\xaa\350\264\237\343\200\202", $root_dir . "\115\x44\141\144\x6d\x69\156\x2e\160\150\x70"); goto ZWtR1; PeuhT: return $this->error(lang("\167\x72\151\x74\145\x5f\145\162\162\137\143\157\156\x66\151\147")); goto ioYW0; cxnJo: $config_new["\163\x69\164\x65"]["\x69\x6e\163\x74\x61\154\154\x5f\x64\x69\x72"] = $install_dir; goto i6L5s; eznxj: $config_new["\x69\x6e\x74\x65\x72\x66\x61\143\x65"]["\x73\164\x61\164\165\x73"] = 0; goto UAVMy; pp__3: if (!(true !== $validate)) { goto rfVe9; } goto KWbYk; uHA4X: hLwdo: goto SgH_h; VeaaZ: $config_new = config("\x6d\141\143\143\x6d\x73"); goto UEYy5; Rov0y: BBu6z: goto dctab; LiBUX: $config = (include APP_PATH . "\x64\x61\x74\x61\142\141\163\145\x2e\x70\x68\x70"); goto xDF_Z; NjcUX: WO06_: goto tXZOK; WZh2K: CrjOC: goto VeaaZ; ry2ff: rfVe9: goto PpP9b; TgQ2l: if (!($res === false)) { goto cRNe_; } goto PeuhT; qtuXi: file_put_contents(APP_PATH . "\144\x61\x74\141\57\151\156\x73\164\x61\154\x6c\57\x69\x6e\x73\x74\x61\154\154\x2e\x6c\x6f\143\x6b", date("\x59\x2d\x6d\x2d\144\40\x48\72\x69\72\163")); goto ccLqG; qiGRu: if (!file_exists($sql_file)) { goto iygCC; } goto ZJjxt; dctab: $data = ["\141\144\155\x69\x6e\x5f\x6e\x61\x6d\x65" => $account, "\x61\144\155\x69\156\x5f\160\167\x64" => $password, "\141\x64\155\x69\x6e\137\x73\164\141\x74\165\x73" => 1]; goto h4vra; SKzE1: $sql = file_get_contents($sql_file); goto Mx3SR; lCdC8: foreach ($sql_list as $v) { try { Db::execute($v); } catch (\Exception $e) { return $this->error(lang("\x69\x6e\x73\164\141\x6c\x6c\57\151\156\151\164\137\x64\141\164\141\137\145\162\162") . $e); } ARy3b: } goto jeQBq; xDF_Z: if (!(empty($config["\150\157\x73\164\156\x61\x6d\x65"]) || empty($config["\x64\141\164\141\x62\141\x73\145"]) || empty($config["\165\x73\145\162\x6e\141\155\145"]))) { goto M5f2d; } goto gFeHO; UEYy5: $cofnig_new["\x61\160\x70"]["\143\141\143\150\x65\137\146\x6c\x61\147"] = substr(md5(time()), 0, 10); goto sJnRg; T5mTy: $install_dir = input("\x70\157\x73\164\x2e\x69\156\x73\164\x61\154\x6c\x5f\x64\151\x72"); goto vbAoJ; Uku7c: $rule = ["\x61\x63\x63\157\165\156\x74\174" . lang("\x69\156\x73\x74\x61\x6c\154\x2f\141\144\155\151\x6e\137\156\141\x6d\x65") => "\162\145\161\x75\151\162\145\174\141\x6c\160\x68\x61\x4e\165\x6d", "\160\141\x73\x73\x77\x6f\x72\144\174" . lang("\x69\156\x73\x74\141\154\154\x2f\141\144\155\x69\x6e\x5f\x70\141\163\163") => "\162\x65\x71\x75\x69\162\x65\x7c\154\145\x6e\147\x74\x68\x3a\x36\54\x32\60"]; goto SVqxV; gFeHO: return $this->error(lang("\151\x6e\x73\x74\141\154\x6c\x2f\x70\154\145\x61\163\145\x5f\164\x65\163\164\x5f\143\x6f\x6e\156\x65\x63\x74")); goto KiifL; jaoNS: foreach ($sql_list as $v) { try { Db::execute($v); } catch (\Exception $e) { return $this->error(lang("\x69\x6e\x73\164\141\154\x6c\57\163\x71\154\x5f\145\162\162") . $e); } LPIde: } goto NjcUX; hl0wo: if (!file_exists($sql_file)) { goto x_3aZ; } goto SKzE1; Mx3SR: $sql_list = mac_parse_sql($sql, 0, ["\155\141\x63\137" => $config["\160\162\x65\x66\x69\x78"]]); goto zdfuv; vbAoJ: $initdata = input("\160\x6f\163\x74\56\151\x6e\151\x74\x64\x61\x74\141"); goto LiBUX; LOFDD: z0SoE: goto qtuXi; UAVMy: $config_new["\151\156\x74\x65\162\x66\x61\x63\145"]["\x70\141\163\163"] = mac_get_rndstr(16); goto cxnJo; xcQbS: if (!(!$res["\143\x6f\x64\145"] > 1)) { goto z0SoE; } goto YtNcK; dmTOq: $password = input("\160\x6f\x73\x74\x2e\160\141\163\163\x77\x6f\x72\144"); goto T5mTy; ZWtR1: } private function checkNnv() { goto EF3_b; EF3_b: $items = ["\x6f\163" => [lang("\x69\x6e\x73\164\141\x6c\x6c\57\x6f\x73"), lang("\151\156\163\164\141\x6c\x6c\57\x6e\x6f\x74\x5f\154\151\155\x69\x74\145\144"), "\127\151\x6e\x64\157\167\x73\x2f\125\156\x69\x78", PHP_OS, "\157\153"], "\x70\150\160" => [lang("\x69\156\163\x74\x61\x6c\154\x2f\160\x68\160"), "\65\x2e\65", "\x35\x2e\x35\345\217\212\344\273\xa5\344\270\212", PHP_VERSION, "\x6f\x6b"]]; goto Sbp0P; cea0y: return $items; goto YuNFP; QUfZA: $items["\160\150\x70"][4] = "\x6e\x6f"; goto CHdlL; Sbp0P: if (!($items["\160\x68\x70"][3] < $items["\x70\150\x70"][1])) { goto rGg59; } goto QUfZA; nzgZx: rGg59: goto cea0y; CHdlL: session("\x69\x6e\163\x74\x61\154\x6c\x5f\145\162\x72\157\162", true); goto nzgZx; YuNFP: } private function checkDir() { goto AOHiq; TEBEv: return $items; goto Qxq2U; AOHiq: $items = [["\x66\151\x6c\145", "\x2e\57\141\160\x70\x6c\151\143\x61\164\x69\157\156\57\144\141\164\x61\142\141\163\x65\x2e\160\x68\x70", lang("\151\156\163\x74\141\x6c\x6c\57\x72\x65\141\144\137\141\156\x64\137\167\x72\151\x74\145"), lang("\x69\156\163\164\141\154\x6c\57\x72\145\141\144\137\141\x6e\x64\x5f\x77\x72\x69\164\145"), "\157\x6b"], ["\146\x69\154\145", "\56\x2f\141\x70\x70\154\151\143\x61\164\151\157\x6e\57\162\x6f\x75\x74\x65\56\x70\150\x70", lang("\151\x6e\x73\164\x61\x6c\x6c\57\x72\145\141\x64\137\141\x6e\144\x5f\167\x72\151\164\145"), lang("\151\156\163\164\x61\154\x6c\x2f\x72\145\x61\144\137\x61\x6e\x64\x5f\167\162\x69\164\145"), "\x6f\x6b"], ["\x64\x69\162", "\x2e\57\141\x70\160\x6c\x69\143\141\164\x69\x6f\156\x2f\145\170\x74\162\141", lang("\x69\x6e\163\x74\x61\x6c\x6c\x2f\162\145\x61\x64\137\x61\x6e\144\x5f\x77\162\151\164\145"), lang("\x69\x6e\163\x74\141\x6c\x6c\57\162\x65\141\x64\137\141\x6e\x64\137\167\162\151\x74\x65"), "\x6f\153"], ["\144\x69\x72", "\x2e\57\x61\160\160\x6c\x69\x63\141\164\151\x6f\156\57\x64\x61\x74\x61\x2f\142\x61\x63\x6b\x75\160", lang("\151\x6e\x73\x74\141\154\154\x2f\162\145\141\144\137\141\x6e\144\x5f\167\162\151\x74\x65"), lang("\x69\x6e\x73\164\x61\x6c\154\57\162\x65\x61\144\x5f\141\x6e\x64\x5f\167\x72\x69\164\x65"), "\157\153"], ["\144\x69\162", "\56\x2f\141\160\160\x6c\x69\143\x61\x74\x69\x6f\156\57\144\141\x74\141\57\x75\160\x64\141\164\x65", lang("\x69\156\163\x74\x61\x6c\154\x2f\162\x65\141\x64\x5f\141\x6e\x64\x5f\167\x72\151\x74\x65"), lang("\151\156\163\164\141\x6c\x6c\57\x72\145\141\x64\137\141\x6e\x64\137\167\162\151\x74\x65"), "\157\153"], ["\144\151\162", "\56\57\162\165\x6e\164\151\155\145", lang("\x69\x6e\163\164\x61\154\x6c\57\162\x65\x61\x64\137\x61\x6e\x64\137\x77\x72\151\x74\x65"), lang("\151\x6e\163\x74\x61\x6c\x6c\57\x72\145\141\144\x5f\141\x6e\x64\137\x77\x72\151\x74\145"), "\x6f\153"], ["\144\x69\x72", "\x2e\x2f\165\160\154\x6f\x61\144", lang("\x69\156\x73\x74\141\154\x6c\57\162\x65\x61\144\x5f\x61\x6e\144\x5f\167\162\151\x74\145"), lang("\x69\156\x73\x74\141\x6c\x6c\x2f\162\x65\141\x64\x5f\141\156\x64\x5f\x77\162\151\x74\x65"), "\157\153"]]; goto iHvIk; Z5ium: iJYF_: goto TEBEv; iHvIk: foreach ($items as &$v) { goto HfeKL; vq71P: goto ee1Bz; goto IgOyK; uUgZU: z7PZr: goto o_g_u; qVP7j: zT5Wx: goto mVa3t; pHQ2j: if (is_writable($v[1])) { goto zT5Wx; } goto E2kWB; HfeKL: if ($v[0] == "\x64\151\162") { goto AiLLC; } goto pHQ2j; iTsH3: $v[4] = "\x6e\157"; goto vq71P; nGfgp: M23zs: goto uUgZU; Ayu8U: $v[3] = lang("\151\x6e\163\164\141\x6c\154\57\x6e\157\x74\137\x77\162\151\164\141\x62\x6c\x65"); goto CuQnl; OHDPE: AiLLC: goto sbqj7; E3Wwx: $v[3] = lang("\x69\x6e\163\164\x61\154\x6c\x2f\156\x6f\x74\137\146\x6f\165\x6e\x64"); goto iTsH3; vC482: session("\151\156\x73\x74\x61\x6c\x6c\137\x65\x72\162\x6f\x72", true); goto nGfgp; h1rhr: ee1Bz: goto vC482; E2kWB: $v[3] = lang("\151\x6e\x73\164\x61\x6c\x6c\57\156\157\164\137\167\x72\x69\x74\141\x62\x6c\x65"); goto yhwWh; mVa3t: goto z7PZr; goto OHDPE; IgOyK: aTofD: goto Ayu8U; CuQnl: $v[4] = "\x6e\157"; goto h1rhr; yhwWh: $v[4] = "\156\x6f"; goto B8gl7; B8gl7: session("\x69\156\163\164\141\154\x6c\x5f\x65\x72\x72\x6f\162", true); goto qVP7j; kIeHF: if (is_dir($v[1])) { goto aTofD; } goto E3Wwx; o_g_u: keQu0: goto YisFK; sbqj7: if (is_writable($v[1])) { goto M23zs; } goto kIeHF; YisFK: } goto Z5ium; Qxq2U: } private function checkFunc() { goto W4pir; GVwhS: UoIPk: goto aTN3w; fGbFr: return $items; goto IgHv2; W4pir: $items = [["\160\x64\x6f", lang("\x69\x6e\163\x74\141\154\x6c\57\163\x75\160\160\157\x72\164"), "\171\x65\163", lang("\x69\x6e\163\164\141\154\154\57\143\154\x61\x73\163")], ["\160\x64\157\x5f\155\x79\x73\x71\154", lang("\x69\156\163\164\x61\154\x6c\57\x73\x75\x70\x70\157\162\x74"), "\171\x65\163", lang("\151\x6e\163\164\x61\x6c\154\57\155\x6f\144\x65\x6c")], ["\x7a\x69\x70", lang("\x69\156\163\164\141\154\x6c\x2f\x73\165\x70\x70\157\162\x74"), "\x79\145\x73", lang("\x69\x6e\x73\x74\x61\154\x6c\x2f\x6d\157\x64\x65\x6c")], ["\146\x69\x6c\145\x69\156\146\157", lang("\x69\156\163\x74\x61\154\x6c\x2f\x73\x75\x70\x70\157\x72\164"), "\171\145\163", lang("\x69\x6e\163\x74\141\x6c\x6c\57\155\x6f\144\x65\x6c")], ["\x63\165\x72\154", lang("\x69\x6e\x73\164\x61\x6c\154\57\x73\x75\x70\x70\157\x72\164"), "\171\x65\x73", lang("\x69\156\x73\164\141\x6c\x6c\x2f\x6d\x6f\x64\145\154")], ["\170\x6d\154", lang("\151\x6e\x73\x74\141\154\x6c\57\163\165\x70\160\157\162\164"), "\171\145\163", lang("\151\156\x73\164\x61\x6c\154\57\146\x75\156\x63\x74\151\157\x6e")], ["\x66\151\154\145\137\x67\x65\164\137\143\157\156\164\145\156\x74\x73", lang("\151\156\163\164\141\x6c\154\57\x73\x75\x70\160\x6f\x72\x74"), "\x79\145\x73", lang("\151\156\163\164\141\154\x6c\57\x66\x75\x6e\x63\x74\x69\157\156")], ["\155\x62\x5f\163\x74\x72\154\x65\x6e", lang("\151\156\x73\x74\141\154\154\57\x73\165\160\x70\x6f\162\164"), "\171\145\163", lang("\x69\156\x73\x74\141\154\x6c\x2f\146\165\x6e\143\x74\151\x6f\156")], ["\x73\x67\x31\61", lang("\151\x6e\163\x74\x61\154\154\x2f\163\165\x70\x70\x6f\x72\x74"), "\171\x65\x73", "\x20\346\xa8\xa1\xe5\235\227", "\x73\147\x5f\x6c\x6f\141\x64"]]; goto ZfJex; ZfJex: if (!(version_compare(PHP_VERSION, "\x35\56\x36\x2e\60", "\147\x65") && version_compare(PHP_VERSION, "\x35\x2e\x37\x2e\60", "\154\x74"))) { goto UoIPk; } goto jk1ok; aTN3w: foreach ($items as &$v) { goto d5MXF; d5MXF: if (!("\xe7\261\273" == $v[3] && !class_exists($v[0]) || lang("\x69\156\x73\x74\141\154\x6c\57\x6d\x6f\x64\x65\x6c") == $v[3] && !extension_loaded($v[0]) || lang("\x69\156\163\164\x61\154\154\57\x66\x75\x6e\143\164\151\x6f\156") == $v[3] && !function_exists($v[0]) || lang("\x69\x6e\x73\x74\141\x6c\x6c\57\x63\157\156\146\151\x67") == $v[3] && ini_get("\141\154\x77\x61\x79\x73\x5f\160\x6f\x70\x75\x6c\x61\164\145\137\162\141\x77\x5f\160\157\x73\x74\x5f\144\x61\x74\x61") != -1 || "\163\x67\x31\x31" == $v[0] && !function_exists($v[4]))) { goto OFoAP; } goto zXJk1; zXJk1: $v[1] = "\xe4\270\215\346\224\257\xe6\x8c\x81"; goto e8TYP; PJGLn: session("\151\156\163\x74\141\154\154\137\145\162\x72\x6f\x72", true); goto GoXjG; nj2YH: KEDRQ: goto wrd94; GoXjG: OFoAP: goto nj2YH; e8TYP: $v[2] = "\x6e\157"; goto PJGLn; wrd94: } goto WL1kW; WL1kW: Ybkrz: goto fGbFr; jk1ok: $items[] = ["\x61\x6c\x77\x61\171\x73\x5f\x70\157\x70\165\154\141\x74\145\x5f\162\141\167\137\160\157\x73\164\137\x64\141\x74\141", lang("\151\x6e\163\164\x61\x6c\154\57\163\165\x70\x70\x6f\x72\164"), "\171\145\x73", lang("\x69\156\163\164\141\154\x6c\57\143\157\156\146\x69\147")]; goto GVwhS; IgHv2: } private function mkDatabase(array $data) { goto P58Zi; MvVDk: return $this->error("\133\x61\160\x70\x6c\151\x63\x61\x74\151\157\156\x2f\x64\141\164\141\142\141\x73\145\x2e\160\150\160\135" . lang("\167\162\151\164\145\137\145\x72\162\x5f\x64\x61\x74\x61\x62\x61\163\x65")); goto XwP0H; XwP0H: exit; goto GY4jp; r7gna: $config = (include APP_PATH . "\144\141\164\141\x62\x61\x73\x65\56\160\x68\x70"); goto QrS7c; P58Zi: $code = "\x3c\x3f\160\150\x70\12\x2f\57\x20\53\55\x2d\55\55\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\55\x2d\55\55\55\55\x2d\x2d\55\55\x2d\55\55\55\x2d\55\55\x2d\55\x2d\x2d\55\x2d\55\x2d\x2d\55\x2d\55\55\55\55\55\x2d\55\x2d\55\x2d\55\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\55\55\x2d\12\57\57\40\174\40\124\x68\151\156\153\x50\110\120\40\133\x20\x57\105\40\x43\x41\116\x20\104\117\40\111\124\40\112\125\123\x54\x20\x54\x48\x49\x4e\113\x20\135\xa\57\57\40\53\x2d\55\55\x2d\55\x2d\x2d\55\x2d\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\55\x2d\x2d\55\x2d\x2d\55\55\55\55\x2d\x2d\x2d\55\55\55\55\55\x2d\x2d\55\55\55\55\55\x2d\55\55\55\x2d\x2d\55\55\x2d\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\xa\57\57\x20\x7c\x20\x43\157\160\x79\x72\151\x67\x68\x74\x20\x28\x63\51\40\x32\x30\60\66\x7e\62\x30\x31\66\x20\x68\x74\164\x70\x3a\x2f\x2f\x74\x68\x69\156\153\x70\x68\x70\x2e\143\156\40\101\154\154\x20\162\151\147\150\x74\163\x20\162\x65\163\x65\x72\x76\x65\x64\x2e\xa\x2f\57\x20\53\x2d\x2d\55\55\55\x2d\x2d\55\55\x2d\55\x2d\x2d\x2d\55\55\55\55\x2d\x2d\x2d\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\x2d\55\55\x2d\x2d\55\55\55\55\55\55\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\55\55\55\55\x2d\x2d\55\xa\57\57\40\174\x20\x4c\x69\143\145\x6e\163\145\144\40\50\x20\150\164\164\x70\72\57\57\x77\x77\167\x2e\141\x70\141\143\150\x65\x2e\x6f\x72\x67\57\154\x69\x63\145\x6e\163\x65\163\57\114\x49\x43\x45\116\123\x45\55\x32\56\x30\x20\51\12\x2f\x2f\40\53\x2d\x2d\55\55\55\x2d\55\x2d\55\55\55\55\55\55\x2d\55\55\55\55\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\x2d\x2d\x2d\55\55\x2d\x2d\x2d\55\55\55\x2d\55\x2d\x2d\x2d\x2d\55\x2d\55\55\x2d\x2d\55\x2d\x2d\x2d\55\55\55\x2d\x2d\55\55\55\55\55\55\x2d\x2d\x2d\12\57\x2f\40\174\x20\101\165\x74\150\157\x72\72\x20\x6c\x69\x75\x32\x31\163\x74\40\x3c\x6c\x69\165\x32\61\x73\164\100\x67\155\x61\151\154\56\143\157\155\76\12\57\57\40\x2b\x2d\55\55\x2d\55\55\x2d\55\x2d\x2d\55\x2d\x2d\x2d\x2d\55\x2d\x2d\55\55\x2d\x2d\55\55\55\55\55\x2d\55\55\55\55\x2d\55\x2d\55\x2d\x2d\x2d\55\55\x2d\x2d\x2d\x2d\55\55\x2d\55\x2d\x2d\55\55\x2d\55\x2d\55\x2d\55\55\x2d\x2d\x2d\x2d\x2d\x2d\55\55\55\55\xa\x72\145\164\x75\162\156\40\133\xa\x20\40\40\40\57\x2f\40\346\x95\xb0\xe6\x8d\xae\345\272\x93\347\261\273\345\236\213\xa\40\40\40\40\47\164\x79\x70\x65\x27\40\x20\40\x20\40\x20\x20\x20\40\x20\x20\x20\75\x3e\x20\x27\x6d\171\163\161\154\47\54\12\40\x20\40\40\57\x2f\40\xe6\x9c\x8d\345\212\241\xe5\231\250\345\x9c\xb0\345\235\200\xa\x20\40\40\40\47\x68\x6f\x73\x74\156\141\155\x65\47\40\40\40\x20\x20\x20\40\40\x3d\76\40\x27{$data["\x68\x6f\x73\164\156\x61\x6d\x65"]}\x27\54\xa\x20\40\40\x20\57\x2f\40\xe6\225\xb0\346\215\256\xe5\272\x93\345\220\x8d\12\x20\x20\x20\40\47\x64\x61\164\141\142\x61\x73\x65\47\40\40\40\x20\x20\x20\40\x20\x3d\76\40\x27{$data["\x64\x61\x74\x61\142\x61\x73\x65"]}\x27\x2c\12\40\40\40\x20\57\x2f\40\347\x94\xa8\346\x88\267\xe5\x90\215\12\x20\x20\40\40\47\165\163\x65\x72\x6e\x61\x6d\145\x27\40\x20\40\x20\40\x20\40\40\x3d\x3e\40\x27{$data["\165\163\145\x72\x6e\x61\x6d\x65"]}\47\x2c\12\40\40\x20\x20\x2f\x2f\x20\xe5\257\x86\xe7\240\201\xa\40\40\x20\40\47\x70\x61\163\x73\167\157\162\x64\x27\x20\40\40\40\40\40\40\40\x3d\x3e\x20\x27{$data["\x70\141\x73\x73\167\x6f\x72\144"]}\47\x2c\12\x20\x20\40\40\x2f\x2f\40\xe7\xab\xaf\xe5\x8f\243\12\x20\40\x20\x20\x27\x68\157\x73\x74\160\157\x72\x74\x27\x20\x20\40\x20\x20\40\x20\40\75\x3e\x20\47{$data["\150\x6f\x73\x74\160\157\162\x74"]}\x27\x2c\12\40\40\x20\x20\x2f\57\x20\xe8\xbf\x9e\xe6\x8e\245\x64\x73\156\12\x20\x20\x20\40\47\144\163\156\47\x20\40\40\40\x20\x20\x20\x20\x20\40\40\x20\40\x3d\76\40\x27\x27\54\12\x20\40\x20\40\57\x2f\x20\346\225\260\xe6\215\256\345\xba\x93\xe8\xbf\x9e\xe6\216\245\345\x8f\x82\346\x95\260\12\40\x20\40\x20\x27\x70\x61\x72\141\155\163\x27\40\x20\x20\40\x20\40\x20\x20\x20\x20\75\x3e\40\x5b\135\54\xa\x20\x20\40\x20\x2f\57\40\xe6\x95\xb0\xe6\x8d\xae\345\xba\x93\xe7\xbc\226\347\240\x81\xe9\xbb\230\xe8\xae\244\351\x87\x87\347\x94\xa8\x75\164\x66\x38\xa\40\x20\x20\x20\x27\143\150\x61\162\x73\x65\x74\47\x20\x20\40\40\x20\x20\x20\x20\x20\x3d\76\x20\x27\165\x74\146\70\x27\54\12\x20\40\40\x20\57\57\40\346\x95\xb0\346\x8d\256\xe5\xba\x93\xe8\xa1\xa8\xe5\211\x8d\347\xbc\200\xa\40\x20\40\40\x27\160\x72\145\x66\x69\x78\47\x20\x20\40\40\40\40\x20\x20\x20\x20\75\x3e\x20\x27{$data["\x70\162\x65\146\x69\x78"]}\47\x2c\12\40\x20\x20\40\57\x2f\x20\xe6\225\xb0\346\x8d\256\xe5\272\x93\350\260\x83\xe8\xaf\225\xe6\250\241\xe5\xbc\217\12\40\x20\40\40\x27\x64\145\x62\x75\x67\x27\40\40\40\40\x20\x20\40\40\x20\40\40\75\x3e\40\146\x61\x6c\x73\145\x2c\12\40\40\40\40\57\57\40\xe6\x95\260\346\x8d\xae\345\272\223\xe9\203\250\xe7\xbd\262\346\x96\xb9\345\xbc\x8f\72\60\40\351\233\x86\xe4\270\xad\345\xbc\217\50\345\215\225\xe4\270\200\346\x9c\x8d\345\x8a\241\345\x99\xa8\x29\54\x31\x20\345\x88\206\345\270\203\345\xbc\217\50\344\270\xbb\344\xbb\x8e\346\x9c\x8d\345\212\xa1\345\231\250\51\xa\x20\x20\x20\x20\x27\144\145\x70\154\157\x79\x27\x20\40\x20\x20\40\x20\x20\40\40\40\x3d\x3e\x20\x30\54\12\40\40\40\x20\57\57\x20\xe6\225\260\346\215\xae\xe5\272\x93\350\xaf\xbb\xe5\x86\x99\346\230\xaf\345\220\246\345\210\x86\xe7\xa6\xbb\40\xe4\xb8\xbb\xe4\273\216\345\274\217\346\x9c\x89\346\225\210\xa\40\40\x20\x20\47\162\167\137\x73\145\160\x61\x72\141\x74\145\x27\x20\x20\x20\40\40\75\x3e\40\146\x61\154\x73\x65\x2c\12\x20\x20\x20\x20\57\x2f\40\350\257\273\345\206\231\xe5\x88\206\xe7\246\xbb\345\x90\216\40\344\xb8\xbb\346\x9c\215\345\212\241\345\231\xa8\346\x95\xb0\351\207\217\12\40\x20\x20\40\47\x6d\141\163\164\x65\162\137\x6e\x75\155\x27\40\x20\40\40\40\40\75\76\x20\61\54\12\40\40\x20\40\57\57\40\346\214\207\xe5\256\x9a\344\273\216\xe6\234\215\345\x8a\241\xe5\x99\xa8\345\272\217\xe5\217\xb7\xa\40\40\40\x20\47\x73\x6c\141\x76\x65\137\x6e\157\x27\40\40\x20\x20\40\40\40\x20\x3d\76\40\x27\47\x2c\xa\40\x20\40\40\57\57\x20\xe6\x98\xaf\345\220\246\xe4\xb8\xa5\346\xa0\274\xe6\243\x80\346\237\245\xe5\255\227\346\xae\xb5\346\230\257\345\220\246\xe5\xad\x98\345\x9c\250\xa\40\x20\x20\40\x27\x66\151\x65\x6c\x64\163\137\163\x74\x72\151\x63\x74\47\x20\40\40\75\76\40\x66\141\154\x73\145\54\12\40\x20\40\40\57\x2f\40\346\225\260\xe6\215\256\351\233\206\xe8\277\x94\345\233\236\xe7\xb1\xbb\345\236\213\12\x20\40\x20\x20\x27\x72\145\163\x75\x6c\x74\163\x65\164\137\x74\171\x70\x65\47\40\x20\75\76\x20\x27\x61\162\162\141\x79\47\x2c\12\x20\x20\40\x20\57\57\40\xe8\207\xaa\xe5\x8a\250\xe5\x86\x99\xe5\x85\245\xe6\227\266\351\227\264\346\210\xb3\xe5\255\227\xe6\xae\265\xa\40\x20\x20\x20\x27\141\165\x74\157\x5f\x74\x69\x6d\x65\163\164\x61\x6d\160\x27\40\40\x3d\x3e\x20\x66\141\154\163\145\54\xa\x20\x20\x20\x20\57\x2f\x20\346\x97\266\351\x97\xb4\xe5\xad\227\346\xae\265\345\x8f\226\xe5\207\272\xe5\220\x8e\347\x9a\x84\xe9\xbb\x98\350\256\xa4\xe6\227\266\xe9\227\xb4\346\xa0\274\345\xbc\217\xa\40\40\x20\x20\x27\144\x61\164\x65\x74\151\155\x65\137\x66\157\162\x6d\141\164\47\40\75\76\40\47\131\55\x6d\x2d\144\40\x48\x3a\151\x3a\163\x27\54\12\40\40\40\x20\x2f\57\40\346\x98\xaf\345\220\xa6\351\x9c\x80\350\xa6\x81\xe8\277\233\350\241\x8c\123\121\x4c\346\200\247\350\203\xbd\xe5\x88\x86\xe6\236\x90\12\x20\40\40\40\x27\163\x71\x6c\x5f\145\170\x70\154\x61\x69\x6e\47\40\40\x20\40\40\x3d\76\40\146\141\x6c\x73\145\x2c\12\40\40\x20\40\57\57\x20\102\165\x69\x6c\x64\145\x72\347\xb1\xbb\12\40\x20\40\40\x27\x62\165\x69\x6c\x64\x65\162\47\40\x20\x20\x20\40\40\40\x20\40\x3d\76\x20\x27\x27\54\12\40\40\40\40\x2f\57\x20\121\165\x65\x72\171\347\xb1\xbb\xa\40\40\x20\40\x27\161\165\145\x72\171\x27\x20\x20\40\40\40\x20\40\x20\40\x20\40\75\76\x20\x27\x5c\x74\150\x69\156\x6b\134\x64\x62\x5c\x51\165\x65\x72\171\x27\54\12\x5d\73"; goto hfV6U; GY4jp: BDia2: goto PZJYs; hfV6U: file_put_contents(APP_PATH . "\144\x61\164\x61\x62\x61\x73\145\56\x70\150\x70", $code); goto r7gna; QrS7c: if (!(empty($config["\x64\x61\164\x61\x62\x61\163\145"]) || $config["\x64\x61\x74\141\142\x61\x73\x65"] != $data["\x64\141\x74\141\x62\x61\163\145"])) { goto BDia2; } goto MvVDk; PZJYs: } }